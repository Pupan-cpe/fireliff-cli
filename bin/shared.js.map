{"version":3,"sources":["../lib/shared.js"],"names":["getValidatedConfig","console","log","verbose","config","FunctionsConfig","reload","line","access_token","help","code","prompt","process","exit","error"],"mappings":";;;;;;;AAAA;;AAEO,eAAeA,kBAAf,GAAoC;AACvC,MAAI;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,uCAAuCC,OAAnD;AACA,QAAIC,MAAM,GAAG,MAAMC,iCAAgBC,MAAhB,EAAnB;;AACA,QAAI,CAACF,MAAM,CAACG,IAAR,IAAgB,CAACH,MAAM,CAACG,IAAP,CAAYC,YAAjC,EAA+C;AAC3CP,MAAAA,OAAO,CAACC,GAAR,CAAY,uDAAuDO,IAAnE;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAY,yEAAyEO,IAArF;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAa,GAAE,mDAAmDQ,IAAK,GAAE,uBAAuBC,MAAO,EAAvG;AACAC,MAAAA,OAAO,CAACC,IAAR,CAAa,CAAb;AACH;;AACD,WAAOT,MAAP;AACH,GAVD,CAUE,OAAOU,KAAP,EAAc;AACZb,IAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ;AACAF,IAAAA,OAAO,CAACC,IAAR,CAAa,CAAb;AACH;AACJ","sourcesContent":["import { FunctionsConfig } from './functions-config';\n\nexport async function getValidatedConfig() {\n    try {\n        console.log('Get Firebase Functions configuration'.verbose);\n        let config = await FunctionsConfig.reload();\n        if (!config.line || !config.line.access_token) {\n            console.log('Functions configuration not found: line.access_token'.help);\n            console.log('Find your LINE channel access token and use with the following command'.help);\n            console.log(`${'firebase functions:config:set line.access_token='.code}${'<channelAccessToken>'.prompt}`);\n            process.exit(1);\n        }\n        return config;\n    } catch (error) {\n        console.log(error);\n        process.exit(1);\n    }\n}\n"],"file":"shared.js"}