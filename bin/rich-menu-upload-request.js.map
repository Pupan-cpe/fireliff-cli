{"version":3,"sources":["../lib/rich-menu-upload-request.js"],"names":["RichMenuUploadRequest","RichMenuRequest","constructor","options","contentType","send","richMenuId","imagePath","Promise","resolve","reject","readStream","fs","createReadStream","stat","err","stats","axios","defaults","headers","common","size","post"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEO,MAAMA,qBAAN,SAAoCC,gCAApC,CAAoD;AACvDC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACjB,UAAM,EAAE,GAAGA,OAAL;AAAc,SAAG;AAAEC,QAAAA,WAAW,EAAE;AAAf;AAAjB,KAAN;AACH;;AACDC,EAAAA,IAAI,CAACC,UAAD,EAAaC,SAAb,EAAwB;AACxB,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,YAAMC,UAAU,GAAGC,EAAE,CAACC,gBAAH,CAAoBN,SAApB,CAAnB;AAEAK,MAAAA,EAAE,CAACE,IAAH,CAAQP,SAAR,EAAmB,CAACQ,GAAD,EAAMC,KAAN,KAAgB;AAC/B,YAAID,GAAJ,EAAS;AACL,iBAAOL,MAAM,CAACK,GAAD,CAAb;AACH;;AAED,aAAKE,KAAL,CAAWC,QAAX,CAAoBC,OAApB,CAA4BC,MAA5B,CAAmC,gBAAnC,IAAuDJ,KAAK,CAACK,IAA7D;AAEA,eAAOZ,OAAO,CAAC,KAAKQ,KAAL,CAAWK,IAAX,CAAiB,uCAAsChB,UAAW,UAAlE,EAA6EK,UAA7E,CAAD,CAAd;AACH,OARD;AASH,KAZM,CAAP;AAaH;;AAlBsD","sourcesContent":["import * as fs from 'fs';\nimport { RichMenuRequest } from './rich-menu-request';\n\nexport class RichMenuUploadRequest extends RichMenuRequest {\n    constructor(options) {\n        super({ ...options, ...{ contentType: 'image/jpeg' } });\n    }\n    send(richMenuId, imagePath) {\n        return new Promise((resolve, reject) => {\n            const readStream = fs.createReadStream(imagePath);\n\n            fs.stat(imagePath, (err, stats) => {\n                if (err) {\n                    return reject(err);\n                }\n\n                this.axios.defaults.headers.common['content-length'] = stats.size;\n        \n                return resolve(this.axios.post(`https://api.line.me/v2/bot/richmenu/${richMenuId}/content`, readStream));\n            });\n        });\n    }\n}\n"],"file":"rich-menu-upload-request.js"}